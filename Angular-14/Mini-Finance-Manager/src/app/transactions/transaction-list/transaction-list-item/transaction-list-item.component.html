<!-- Transaction Summary -->
<div
  class="list-group-item list-group-item-action d-flex justify-content-between align-items-center mb-2 shadow-sm rounded"
  style="cursor: pointer"
  (click)="toggleAccordion()"
>
  <div class="d-flex align-items-center">
    <div class="me-3">
      <i
        [class]="
          transaction.type === 'income'
            ? 'fas fa-arrow-down fa-2x text-success'
            : 'fas fa-arrow-up fa-2x text-danger'
        "
      ></i>
    </div>
    <div>
      <h5 class="mb-1">{{ transaction.title }}</h5>
      <small class="text-muted">
        {{ transaction.date | date : "MMMM d, y" }} •
        {{ transaction.category }} •
        <strong
          [ngClass]="{
            'text-success': transaction.type === 'income',
            'text-danger': transaction.type === 'expense'
          }"
        >
          {{ transaction.type | titlecase }}
        </strong>
      </small>
    </div>
  </div>

  <div class="text-end">
    <h5
      class="mb-1"
      [ngClass]="{
        'text-danger': transaction.type === 'expense',
        'text-success': transaction.type === 'income'
      }"
    >
      {{ transaction.type === "expense" ? "-" : "+" }}
      {{ transaction.amount | currency }}
    </h5>
    <small class="text-muted">Completed</small>
  </div>
</div>

<!-- Accordion Form (visible only when open) -->
<div
  class="accordion-wrapper mt-2 mb-2 bg-light"
  *ngIf="isAccordionOpen"
  (click)="$event.stopPropagation()"
>
  <div class="accordion-inner border rounded p-3">
    <app-transaction-item-edit
      [transaction]="transaction"
      (cancel)="toggleAccordion()"
    ></app-transaction-item-edit>
  </div>
</div>
